{"version":3,"sources":["js/upload.js","js/app.js"],"names":["Uploader","selector","configs","document","querySelector","createElement","classList","add","textContent","style","display","after","addEventListener","e","Array","from","target","files","forEach","file","reader","FileReader","console","log","type","readAsDataURL","fileImgs","onload","fileURL","insertAdjacentHTML","multiple","setAttribute","accept","isArray","join","click","uploader","BtnCreater","PreviewPrinter"],"mappings":"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","file":"app.c23f953e.js","sourceRoot":"..","sourcesContent":["export default class Uploader {\n    #openBtn;\n    #input;\n    #configs;\n\n    constructor(selector, configs = {}) {\n        this.#input = document.querySelector(selector);\n        this.#configs = configs;\n    }\n\n    BtnCreater(selector) {\n        this.#openBtn = document.createElement(\"button\");\n\n        this.#openBtn.classList.add(\"uploader-btn__open\", \"uploader-btn\");\n        this.#openBtn.textContent = \"Открыть\";\n\n        this.#input.style.display = \"none\";\n        this.#input.after(this.#openBtn);\n\n        this.#inputClicker();\n        this.#inputConfig();\n    }\n\n    PreviewPrinter() {\n        const changeHandler = e => {\n            const files = Array.from(e.target.files);\n\n            files.forEach(file => {\n                let reader = new FileReader();\n\n                console.log(file.type)\n\n                reader.readAsDataURL(file);\n                const fileImgs = {\n                    \"application/pdf\": \"1.jpg\",\n                };\n\n                reader.onload = e => {\n                    let fileURL =  /*navigator.userAgent.includes('Safari') ? e.target.result :*/ fileImgs[file.type];\n\n                    document.querySelector(\".uploader-imgs\").insertAdjacentHTML(\"afterbegin\", `<img src=${fileURL} class=\"uploader-imgs__item\"/>`);\n                }\n            });\n        }\n\n        this.#input.addEventListener(\"change\", changeHandler)\n    }\n\n    #inputConfig() {\n        if (this.#configs.multiple) {\n            this.#input.setAttribute(\"multiple\", true);\n        }\n\n        if (this.#configs.accept && Array.isArray(this.#configs.accept)) {\n            const accept = this.#configs.accept.join(\", \");\n\n            this.#input.setAttribute(\"accept\", accept)\n        }\n    }\n\n    #inputClicker() {\n        const clickHandler = () => this.#input.click();\n\n        this.#openBtn.addEventListener(\"click\", clickHandler);\n    }\n}","import Uploader from \"../js/upload.js\";\n\nconst uploader = new Uploader(\"#input\", {\n    multiple: true,\n    accept: [\".jpg\", \".docx\", \".png\", \".pdf\"]\n});\n\nuploader.BtnCreater();\nuploader.PreviewPrinter();"]}